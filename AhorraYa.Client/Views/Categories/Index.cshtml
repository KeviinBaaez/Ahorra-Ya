@model IEnumerable<AhorraYa.WebClient.ViewModels.Category.CategoryListVm>


<div class="card shadow rounded mt-4 mb-5">
	<div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
		<h4 class="mb-0">Category List</h4>
		<a class="btn btn-light text-primary fw-bold" asp-controller="Categories" asp-action="Upsert">
			<i class="bi bi.plus-circle me-1"></i> New Category	
		</a>
	</div>
	<div class="card-body p-0">
		@if (!Model.Any())
		{
			<div class="alert alert-warning m-3">
				<p>There are no registered categories</p>
			</div>
		}
		else
		{
			<table class="table table-hover mb-0">
				<thead>
					<tr class="row-cols-6">
						<th class="col-10">Name</th>
						<th class="col-2 text-center">Actions</th>
					</tr>
				</thead>

				<tbody>
					@foreach (var category in Model)
					{
						<tr class="row-cols-6">
							<td class="col-10">@category.CategoryName</td>
							<td class="col-2 text-center">
								<a class="btn btn-sm btn-outline-warning me-1" asp-controller="Categories" asp-action="Upsert" asp-route-id="@category.Id">
									<i class="bi bi-pencil-square"></i>
									Edit
								</a>
								<button type="button" class="btn btn-danger" onclick="confirm(@category.Id, '@category.CategoryName', '@typeof(Category).Name')">
									<i class="bi bi-trash"></i>
									Delete
								</button>

								<form id="formDelete-@category.Id" method="post" asp-action="Delete" style="display: none">
									@Html.AntiForgeryToken();
									<input type="hidden" name="id" value="@category.Id" />
								</form>
							</td>
						</tr>
					}
				</tbody>
			</table>
		}
	</div>
</div>
